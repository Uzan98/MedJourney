"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/banco-questoes/page",{

/***/ "(app-pages-browser)/./src/services/questions-bank.service.ts":
/*!************************************************!*\
  !*** ./src/services/questions-bank.service.ts ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QuestionsBankService: function() { return /* binding */ QuestionsBankService; }\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./src/lib/supabase.ts\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-hot-toast */ \"(app-pages-browser)/./node_modules/react-hot-toast/dist/index.mjs\");\n\n\nclass QuestionsBankService {\n    /**\r\n   * Busca todas as questões do usuário atual\r\n   */ static async getUserQuestions() {\n        try {\n            const { data: user } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.getUser();\n            if (!user || !user.user) {\n                throw new Error(\"Usu\\xe1rio n\\xe3o autenticado\");\n            }\n            const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"questions\").select(\"*\").eq(\"user_id\", user.user.id).order(\"created_at\", {\n                ascending: false\n            });\n            if (error) {\n                throw error;\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Erro ao buscar quest\\xf5es:\", error);\n            return [];\n        }\n    }\n    /**\r\n   * Busca uma questão específica pelo ID\r\n   */ static async getQuestionById(id) {\n        try {\n            const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"questions\").select(\"*\").eq(\"id\", id).single();\n            if (error) {\n                throw error;\n            }\n            // Carregar as opções de resposta se for uma questão de múltipla escolha ou V/F\n            if (data && (data.question_type === \"multiple_choice\" || data.question_type === \"true_false\")) {\n                const options = await this.getAnswerOptions(data.id);\n                data.answer_options = options;\n            }\n            return data;\n        } catch (error) {\n            console.error(\"Erro ao buscar quest\\xe3o \".concat(id, \":\"), error);\n            return null;\n        }\n    }\n    /**\r\n   * Busca as opções de resposta para uma questão específica\r\n   */ static async getAnswerOptions(questionId) {\n        try {\n            const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"answer_options\").select(\"*\").eq(\"question_id\", questionId).order(\"id\");\n            if (error) {\n                throw error;\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Erro ao buscar op\\xe7\\xf5es de resposta para quest\\xe3o \".concat(questionId, \":\"), error);\n            return [];\n        }\n    }\n    /**\r\n   * Adiciona uma nova questão\r\n   */ static async addQuestion(question, answerOptions) {\n        try {\n            const { data: user } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.getUser();\n            if (!user || !user.user) {\n                throw new Error(\"Usu\\xe1rio n\\xe3o autenticado\");\n            }\n            // Adiciona o user_id à questão\n            const newQuestion = {\n                ...question,\n                user_id: user.user.id,\n                created_at: new Date().toISOString(),\n                updated_at: new Date().toISOString()\n            };\n            // Insere a questão\n            const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"questions\").insert([\n                newQuestion\n            ]).select(\"id\").single();\n            if (error) {\n                throw error;\n            }\n            const questionId = data.id;\n            // Se houver opções de resposta e for uma questão de múltipla escolha ou V/F\n            if (answerOptions && answerOptions.length > 0 && (question.question_type === \"multiple_choice\" || question.question_type === \"true_false\")) {\n                // Adiciona o question_id às opções de resposta e remove os IDs temporários\n                const optionsWithQuestionId = answerOptions.map((option)=>{\n                    // Remove o campo id para que o Supabase gere um novo ID\n                    const { id, ...optionWithoutId } = option;\n                    return {\n                        ...optionWithoutId,\n                        question_id: questionId,\n                        created_at: new Date().toISOString(),\n                        updated_at: new Date().toISOString()\n                    };\n                });\n                // Insere as opções de resposta\n                const { error: optionsError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"answer_options\").insert(optionsWithQuestionId);\n                if (optionsError) {\n                    console.error(\"Erro ao inserir op\\xe7\\xf5es de resposta:\", optionsError);\n                    throw optionsError;\n                }\n            }\n            return questionId;\n        } catch (error) {\n            console.error(\"Erro ao adicionar quest\\xe3o:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Erro ao adicionar quest\\xe3o: \" + error.message);\n            return null;\n        }\n    }\n    /**\r\n   * Alias para addQuestion, para compatibilidade com a interface\r\n   */ static async createQuestion(question, answerOptions) {\n        const questionId = await this.addQuestion(question, answerOptions);\n        if (questionId) {\n            return {\n                ...question,\n                id: questionId\n            };\n        }\n        return null;\n    }\n    /**\r\n   * Atualiza uma questão existente\r\n   */ static async updateQuestion(id, question, answerOptions) {\n        try {\n            // Atualiza a questão\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"questions\").update({\n                ...question,\n                updated_at: new Date().toISOString()\n            }).eq(\"id\", id);\n            if (error) {\n                throw error;\n            }\n            // Se houver opções de resposta e for uma questão de múltipla escolha ou V/F\n            if (answerOptions && answerOptions.length > 0 && (question.question_type === \"multiple_choice\" || question.question_type === \"true_false\")) {\n                // Primeiro, exclui as opções de resposta existentes\n                const { error: deleteError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"answer_options\").delete().eq(\"question_id\", id);\n                if (deleteError) {\n                    throw deleteError;\n                }\n                // Adiciona o question_id às opções de resposta e remove os IDs temporários\n                const optionsWithQuestionId = answerOptions.map((option)=>{\n                    // Remove o campo id para que o Supabase gere um novo ID\n                    const { id: optionId, ...optionWithoutId } = option;\n                    return {\n                        ...optionWithoutId,\n                        question_id: id,\n                        created_at: new Date().toISOString(),\n                        updated_at: new Date().toISOString()\n                    };\n                });\n                // Insere as novas opções de resposta\n                const { error: optionsError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"answer_options\").insert(optionsWithQuestionId);\n                if (optionsError) {\n                    console.error(\"Erro ao inserir op\\xe7\\xf5es de resposta:\", optionsError);\n                    throw optionsError;\n                }\n            }\n            return true;\n        } catch (error) {\n            console.error(\"Erro ao atualizar quest\\xe3o \".concat(id, \":\"), error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Erro ao atualizar quest\\xe3o: \" + error.message);\n            return false;\n        }\n    }\n    /**\r\n   * Exclui uma questão e suas opções de resposta\r\n   */ static async deleteQuestion(id) {\n        try {\n            // Primeiro, exclui as opções de resposta associadas\n            const { error: optionsError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"answer_options\").delete().eq(\"question_id\", id);\n            if (optionsError) {\n                throw optionsError;\n            }\n            // Em seguida, exclui a questão\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"questions\").delete().eq(\"id\", id);\n            if (error) {\n                throw error;\n            }\n            return true;\n        } catch (error) {\n            console.error(\"Erro ao excluir quest\\xe3o \".concat(id, \":\"), error);\n            return false;\n        }\n    }\n    /**\r\n   * Busca questões com base em filtros\r\n   */ static async getFilteredQuestions(filters) {\n        try {\n            const { data: user } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.getUser();\n            if (!user || !user.user) {\n                throw new Error(\"Usu\\xe1rio n\\xe3o autenticado\");\n            }\n            let query = _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"questions\").select(\"*\").eq(\"user_id\", user.user.id);\n            // Aplica os filtros\n            if (filters.disciplineId) {\n                query = query.eq(\"discipline_id\", filters.disciplineId);\n            }\n            if (filters.subjectId) {\n                query = query.eq(\"subject_id\", filters.subjectId);\n            }\n            if (filters.difficulty) {\n                query = query.eq(\"difficulty\", filters.difficulty);\n            }\n            if (filters.questionType) {\n                query = query.eq(\"question_type\", filters.questionType);\n            }\n            if (filters.searchTerm) {\n                query = query.ilike(\"content\", \"%\".concat(filters.searchTerm, \"%\"));\n            }\n            const { data, error } = await query.order(\"created_at\", {\n                ascending: false\n            });\n            if (error) {\n                throw error;\n            }\n            return data || [];\n        } catch (error) {\n            console.error(\"Erro ao filtrar quest\\xf5es:\", error);\n            return [];\n        }\n    }\n    /**\r\n   * Verifica se as tabelas necessárias existem e contêm dados\r\n   */ static async checkTablesExist() {\n        try {\n            const { count, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"questions\").select(\"*\", {\n                count: \"exact\",\n                head: true\n            });\n            if (error) {\n                console.error(\"Erro ao verificar tabelas:\", error);\n                return false;\n            }\n            return true;\n        } catch (error) {\n            console.error(\"Erro ao verificar estrutura do banco de dados:\", error);\n            return false;\n        }\n    }\n    /**\r\n   * Gera dados de exemplo para o banco de questões\r\n   */ static getMockQuestions() {\n        return [\n            {\n                id: 1,\n                content: \"Qual \\xe9 o tratamento de primeira linha para hipertens\\xe3o em pacientes com diabetes?\",\n                explanation: \"O tratamento de primeira linha mais recomendado \\xe9 um inibidor da enzima conversora de angiotensina (IECA) ou bloqueador do receptor da angiotensina (BRA) devido \\xe0 prote\\xe7\\xe3o renal adicional.\",\n                discipline_id: 1,\n                subject_id: 3,\n                difficulty: \"m\\xe9dia\",\n                question_type: \"multiple_choice\",\n                tags: [\n                    \"hipertens\\xe3o\",\n                    \"diabetes\",\n                    \"tratamento\"\n                ],\n                created_at: \"2025-01-15T10:30:00Z\",\n                answer_options: [\n                    {\n                        id: 1,\n                        question_id: 1,\n                        text: \"IECA ou BRA\",\n                        is_correct: true\n                    },\n                    {\n                        id: 2,\n                        question_id: 1,\n                        text: \"Beta-bloqueadores\",\n                        is_correct: false\n                    },\n                    {\n                        id: 3,\n                        question_id: 1,\n                        text: \"Bloqueadores de canais de c\\xe1lcio\",\n                        is_correct: false\n                    },\n                    {\n                        id: 4,\n                        question_id: 1,\n                        text: \"Diur\\xe9ticos tiaz\\xeddicos\",\n                        is_correct: false\n                    }\n                ]\n            },\n            {\n                id: 2,\n                content: \"Pacientes com fibrila\\xe7\\xe3o atrial devem sempre receber anticoagula\\xe7\\xe3o.\",\n                explanation: \"Falso. A decis\\xe3o sobre anticoagula\\xe7\\xe3o em pacientes com fibrila\\xe7\\xe3o atrial deve ser baseada na avalia\\xe7\\xe3o de risco de AVC (ex.: escore CHA2DS2-VASc) e no risco de sangramento (ex.: escore HAS-BLED).\",\n                discipline_id: 1,\n                subject_id: 4,\n                difficulty: \"baixa\",\n                question_type: \"true_false\",\n                correct_answer: \"false\",\n                tags: [\n                    \"fibrila\\xe7\\xe3o atrial\",\n                    \"anticoagula\\xe7\\xe3o\",\n                    \"cardiologia\"\n                ],\n                created_at: \"2025-01-20T14:45:00Z\"\n            },\n            {\n                id: 3,\n                content: \"Descreva os mecanismos fisiopatol\\xf3gicos da insufici\\xeancia card\\xedaca com fra\\xe7\\xe3o de eje\\xe7\\xe3o preservada (ICFEp).\",\n                explanation: \"A ICFEp \\xe9 caracterizada por disfun\\xe7\\xe3o diast\\xf3lica, rigidez ventricular, fibrose mioc\\xe1rdica, diminui\\xe7\\xe3o da complac\\xeancia ventricular, disfun\\xe7\\xe3o microvascular e inflama\\xe7\\xe3o. A disfun\\xe7\\xe3o diast\\xf3lica resulta em press\\xf5es de enchimento elevadas, causando sintomas de congest\\xe3o pulmonar e edema.\",\n                discipline_id: 1,\n                subject_id: 5,\n                difficulty: \"alta\",\n                question_type: \"essay\",\n                tags: [\n                    \"insufici\\xeancia card\\xedaca\",\n                    \"fisiopatologia\",\n                    \"fra\\xe7\\xe3o de eje\\xe7\\xe3o preservada\"\n                ],\n                created_at: \"2025-01-25T09:15:00Z\"\n            },\n            {\n                id: 4,\n                content: \"Qual dos seguintes n\\xe3o \\xe9 considerado um sinal cl\\xe1ssico de Parkinsonismo?\",\n                explanation: \"Os sinais cl\\xe1ssicos do Parkinsonismo incluem tremor de repouso, rigidez, bradicinesia e instabilidade postural. A coreia (movimentos involunt\\xe1rios, r\\xe1pidos e irregulares) \\xe9 caracter\\xedsticamente associada \\xe0 doen\\xe7a de Huntington, n\\xe3o ao Parkinsonismo.\",\n                discipline_id: 2,\n                subject_id: 8,\n                difficulty: \"m\\xe9dia\",\n                question_type: \"multiple_choice\",\n                tags: [\n                    \"neurologia\",\n                    \"parkinson\",\n                    \"diagn\\xf3stico\"\n                ],\n                created_at: \"2025-02-05T11:20:00Z\",\n                answer_options: [\n                    {\n                        id: 5,\n                        question_id: 4,\n                        text: \"Tremor de repouso\",\n                        is_correct: false\n                    },\n                    {\n                        id: 6,\n                        question_id: 4,\n                        text: \"Rigidez\",\n                        is_correct: false\n                    },\n                    {\n                        id: 7,\n                        question_id: 4,\n                        text: \"Coreia\",\n                        is_correct: true\n                    },\n                    {\n                        id: 8,\n                        question_id: 4,\n                        text: \"Bradicinesia\",\n                        is_correct: false\n                    }\n                ]\n            },\n            {\n                id: 5,\n                content: \"A cetoacidose diab\\xe9tica \\xe9 uma emerg\\xeancia m\\xe9dica que ocorre predominantemente em pacientes com diabetes tipo 2.\",\n                explanation: \"Falso. A cetoacidose diab\\xe9tica ocorre predominantemente em pacientes com diabetes tipo 1, embora possa ocorrer em diabetes tipo 2 em situa\\xe7\\xf5es de estresse extremo (como infec\\xe7\\xf5es graves, trauma ou cirurgia).\",\n                discipline_id: 3,\n                subject_id: 12,\n                difficulty: \"baixa\",\n                question_type: \"true_false\",\n                correct_answer: \"false\",\n                tags: [\n                    \"diabetes\",\n                    \"emerg\\xeancia\",\n                    \"cetoacidose\"\n                ],\n                created_at: \"2025-02-10T16:05:00Z\"\n            }\n        ];\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zZXJ2aWNlcy9xdWVzdGlvbnMtYmFuay5zZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwQztBQUNGO0FBaUNqQyxNQUFNRTtJQUNYOztHQUVDLEdBQ0QsYUFBYUMsbUJBQXdDO1FBQ25ELElBQUk7WUFDRixNQUFNLEVBQUVDLE1BQU1DLElBQUksRUFBRSxHQUFHLE1BQU1MLG1EQUFRQSxDQUFDTSxJQUFJLENBQUNDLE9BQU87WUFFbEQsSUFBSSxDQUFDRixRQUFRLENBQUNBLEtBQUtBLElBQUksRUFBRTtnQkFDdkIsTUFBTSxJQUFJRyxNQUFNO1lBQ2xCO1lBRUEsTUFBTSxFQUFFSixJQUFJLEVBQUVLLEtBQUssRUFBRSxHQUFHLE1BQU1ULG1EQUFRQSxDQUNuQ1UsSUFBSSxDQUFDLGFBQ0xDLE1BQU0sQ0FBQyxLQUNQQyxFQUFFLENBQUMsV0FBV1AsS0FBS0EsSUFBSSxDQUFDUSxFQUFFLEVBQzFCQyxLQUFLLENBQUMsY0FBYztnQkFBRUMsV0FBVztZQUFNO1lBRTFDLElBQUlOLE9BQU87Z0JBQ1QsTUFBTUE7WUFDUjtZQUVBLE9BQU9MLFFBQVEsRUFBRTtRQUNuQixFQUFFLE9BQU9LLE9BQU87WUFDZE8sUUFBUVAsS0FBSyxDQUFDLCtCQUE0QkE7WUFDMUMsT0FBTyxFQUFFO1FBQ1g7SUFDRjtJQUVBOztHQUVDLEdBQ0QsYUFBYVEsZ0JBQWdCSixFQUFVLEVBQTRCO1FBQ2pFLElBQUk7WUFDRixNQUFNLEVBQUVULElBQUksRUFBRUssS0FBSyxFQUFFLEdBQUcsTUFBTVQsbURBQVFBLENBQ25DVSxJQUFJLENBQUMsYUFDTEMsTUFBTSxDQUFDLEtBQ1BDLEVBQUUsQ0FBQyxNQUFNQyxJQUNUSyxNQUFNO1lBRVQsSUFBSVQsT0FBTztnQkFDVCxNQUFNQTtZQUNSO1lBRUEsK0VBQStFO1lBQy9FLElBQUlMLFFBQVNBLENBQUFBLEtBQUtlLGFBQWEsS0FBSyxxQkFBcUJmLEtBQUtlLGFBQWEsS0FBSyxZQUFX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QUM1RHJDLFlBQVk7WUFDZDtZQUNBO2dCQUNFaEIsSUFBSTtnQkFDSmlELFNBQVM7Z0JBQ1RDLGFBQWE7Z0JBQ2JDLGVBQWU7Z0JBQ2ZDLFlBQVk7Z0JBQ1pYLFlBQVk7Z0JBQ1puQyxlQUFlO2dCQUNmK0MsTUFBTTtvQkFBQztvQkFBMEI7b0JBQWtCO2lCQUE4QjtnQkFDakZyQyxZQUFZO1lBQ2Q7WUFDQTtnQkFDRWhCLElBQUk7Z0JBQ0ppRCxTQUFTO2dCQUNUQyxhQUFhO2dCQUNiQyxlQUFlO2dCQUNmQyxZQUFZO2dCQUNaWCxZQUFZO2dCQUNabkMsZUFBZTtnQkFDZitDLE1BQU07b0JBQUM7b0JBQWM7b0JBQWE7aUJBQWM7Z0JBQ2hEckMsWUFBWTtnQkFDWlAsZ0JBQWdCO29CQUNkO3dCQUFFVCxJQUFJO3dCQUFHMEIsYUFBYTt3QkFBRzRCLE1BQU07d0JBQXFCQyxZQUFZO29CQUFNO29CQUN0RTt3QkFBRXZELElBQUk7d0JBQUcwQixhQUFhO3dCQUFHNEIsTUFBTTt3QkFBV0MsWUFBWTtvQkFBTTtvQkFDNUQ7d0JBQUV2RCxJQUFJO3dCQUFHMEIsYUFBYTt3QkFBRzRCLE1BQU07d0JBQVVDLFlBQVk7b0JBQUs7b0JBQzFEO3dCQUFFdkQsSUFBSTt3QkFBRzBCLGFBQWE7d0JBQUc0QixNQUFNO3dCQUFnQkMsWUFBWTtvQkFBTTtpQkFDbEU7WUFDSDtZQUNBO2dCQUNFdkQsSUFBSTtnQkFDSmlELFNBQVM7Z0JBQ1RDLGFBQWE7Z0JBQ2JDLGVBQWU7Z0JBQ2ZDLFlBQVk7Z0JBQ1pYLFlBQVk7Z0JBQ1puQyxlQUFlO2dCQUNma0QsZ0JBQWdCO2dCQUNoQkgsTUFBTTtvQkFBQztvQkFBWTtvQkFBYztpQkFBYztnQkFDL0NyQyxZQUFZO1lBQ2Q7U0FDRDtJQUNIO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL3NlcnZpY2VzL3F1ZXN0aW9ucy1iYW5rLnNlcnZpY2UudHM/OGUzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJztcclxuaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdyZWFjdC1ob3QtdG9hc3QnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBRdWVzdGlvbiB7XHJcbiAgaWQ/OiBudW1iZXI7XHJcbiAgdXNlcl9pZD86IHN0cmluZztcclxuICBkaXNjaXBsaW5lX2lkPzogbnVtYmVyO1xyXG4gIHN1YmplY3RfaWQ/OiBudW1iZXI7XHJcbiAgY29udGVudDogc3RyaW5nO1xyXG4gIGV4cGxhbmF0aW9uPzogc3RyaW5nO1xyXG4gIGRpZmZpY3VsdHk/OiAnYmFpeGEnIHwgJ23DqWRpYScgfCAnYWx0YSc7XHJcbiAgcXVlc3Rpb25fdHlwZT86ICdtdWx0aXBsZV9jaG9pY2UnIHwgJ3RydWVfZmFsc2UnIHwgJ2Vzc2F5JztcclxuICBjb3JyZWN0X2Fuc3dlcj86IHN0cmluZztcclxuICB0YWdzPzogc3RyaW5nW107XHJcbiAgY3JlYXRlZF9hdD86IHN0cmluZztcclxuICB1cGRhdGVkX2F0Pzogc3RyaW5nO1xyXG4gIGFuc3dlcl9vcHRpb25zPzogQW5zd2VyT3B0aW9uW107IC8vIFJlZmVyw6puY2lhIMOgcyBvcMOnw7VlcyBkZSByZXNwb3N0YVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFuc3dlck9wdGlvbiB7XHJcbiAgLyoqXHJcbiAgICogSUQgZGEgb3DDp8OjbyBkZSByZXNwb3N0YVxyXG4gICAqIC0gTm8gZnJvbnRlbmQ6IHBvZGUgc2VyIHVtYSBzdHJpbmcgdGVtcG9yw6FyaWEgKGV4OiBcInRlbXAtMTIzNDU2XCIpXHJcbiAgICogLSBObyBiYWNrZW5kOiBzZXLDoSBzZW1wcmUgdW0gbsO6bWVybyAoYmlnaW50IG5vIFN1cGFiYXNlKVxyXG4gICAqIC0gU2Vyw6EgcmVtb3ZpZG8gYW50ZXMgZGUgZW52aWFyIGFvIGJhY2tlbmQgcGFyYSBjcmlhw6fDo29cclxuICAgKi9cclxuICBpZD86IG51bWJlciB8IHN0cmluZztcclxuICBxdWVzdGlvbl9pZDogbnVtYmVyO1xyXG4gIHRleHQ6IHN0cmluZztcclxuICBpc19jb3JyZWN0OiBib29sZWFuO1xyXG4gIGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XHJcbiAgdXBkYXRlZF9hdD86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFF1ZXN0aW9uc0JhbmtTZXJ2aWNlIHtcclxuICAvKipcclxuICAgKiBCdXNjYSB0b2RhcyBhcyBxdWVzdMO1ZXMgZG8gdXN1w6FyaW8gYXR1YWxcclxuICAgKi9cclxuICBzdGF0aWMgYXN5bmMgZ2V0VXNlclF1ZXN0aW9ucygpOiBQcm9taXNlPFF1ZXN0aW9uW10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YTogdXNlciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXVzZXIgfHwgIXVzZXIudXNlcikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXN1w6FyaW8gbsOjbyBhdXRlbnRpY2FkbycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdxdWVzdGlvbnMnKVxyXG4gICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIudXNlci5pZClcclxuICAgICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGRhdGEgfHwgW107XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGJ1c2NhciBxdWVzdMO1ZXM6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBCdXNjYSB1bWEgcXVlc3TDo28gZXNwZWPDrWZpY2EgcGVsbyBJRFxyXG4gICAqL1xyXG4gIHN0YXRpYyBhc3luYyBnZXRRdWVzdGlvbkJ5SWQoaWQ6IG51bWJlcik6IFByb21pc2U8UXVlc3Rpb24gfCBudWxsPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdxdWVzdGlvbnMnKVxyXG4gICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgICAuc2luZ2xlKCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gQ2FycmVnYXIgYXMgb3DDp8O1ZXMgZGUgcmVzcG9zdGEgc2UgZm9yIHVtYSBxdWVzdMOjbyBkZSBtw7psdGlwbGEgZXNjb2xoYSBvdSBWL0ZcclxuICAgICAgaWYgKGRhdGEgJiYgKGRhdGEucXVlc3Rpb25fdHlwZSA9PT0gJ211bHRpcGxlX2Nob2ljZScgfHwgZGF0YS5xdWVzdGlvbl90eXBlID09PSAndHJ1ZV9mYWxzZScpKSB7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGF3YWl0IHRoaXMuZ2V0QW5zd2VyT3B0aW9ucyhkYXRhLmlkIGFzIG51bWJlcik7XHJcbiAgICAgICAgZGF0YS5hbnN3ZXJfb3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgRXJybyBhbyBidXNjYXIgcXVlc3TDo28gJHtpZH06YCwgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLyoqXHJcbiAgICogQnVzY2EgYXMgb3DDp8O1ZXMgZGUgcmVzcG9zdGEgcGFyYSB1bWEgcXVlc3TDo28gZXNwZWPDrWZpY2FcclxuICAgKi9cclxuICBzdGF0aWMgYXN5bmMgZ2V0QW5zd2VyT3B0aW9ucyhxdWVzdGlvbklkOiBudW1iZXIpOiBQcm9taXNlPEFuc3dlck9wdGlvbltdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdhbnN3ZXJfb3B0aW9ucycpXHJcbiAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgLmVxKCdxdWVzdGlvbl9pZCcsIHF1ZXN0aW9uSWQpXHJcbiAgICAgICAgLm9yZGVyKCdpZCcpO1xyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiBkYXRhIHx8IFtdO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgRXJybyBhbyBidXNjYXIgb3DDp8O1ZXMgZGUgcmVzcG9zdGEgcGFyYSBxdWVzdMOjbyAke3F1ZXN0aW9uSWR9OmAsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvKipcclxuICAgKiBBZGljaW9uYSB1bWEgbm92YSBxdWVzdMOjb1xyXG4gICAqL1xyXG4gIHN0YXRpYyBhc3luYyBhZGRRdWVzdGlvbihxdWVzdGlvbjogUXVlc3Rpb24sIGFuc3dlck9wdGlvbnM/OiBBbnN3ZXJPcHRpb25bXSk6IFByb21pc2U8bnVtYmVyIHwgbnVsbD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBkYXRhOiB1c2VyIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuICAgICAgXHJcbiAgICAgIGlmICghdXNlciB8fCAhdXNlci51c2VyKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc3XDoXJpbyBuw6NvIGF1dGVudGljYWRvJyk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIEFkaWNpb25hIG8gdXNlcl9pZCDDoCBxdWVzdMOjb1xyXG4gICAgICBjb25zdCBuZXdRdWVzdGlvbiA9IHtcclxuICAgICAgICAuLi5xdWVzdGlvbixcclxuICAgICAgICB1c2VyX2lkOiB1c2VyLnVzZXIuaWQsXHJcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgLy8gSW5zZXJlIGEgcXVlc3TDo29cclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgncXVlc3Rpb25zJylcclxuICAgICAgICAuaW5zZXJ0KFtuZXdRdWVzdGlvbl0pXHJcbiAgICAgICAgLnNlbGVjdCgnaWQnKVxyXG4gICAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBxdWVzdGlvbklkID0gZGF0YS5pZDtcclxuICAgICAgXHJcbiAgICAgIC8vIFNlIGhvdXZlciBvcMOnw7VlcyBkZSByZXNwb3N0YSBlIGZvciB1bWEgcXVlc3TDo28gZGUgbcO6bHRpcGxhIGVzY29saGEgb3UgVi9GXHJcbiAgICAgIGlmIChhbnN3ZXJPcHRpb25zICYmIGFuc3dlck9wdGlvbnMubGVuZ3RoID4gMCAmJiBcclxuICAgICAgICAgIChxdWVzdGlvbi5xdWVzdGlvbl90eXBlID09PSAnbXVsdGlwbGVfY2hvaWNlJyB8fCBxdWVzdGlvbi5xdWVzdGlvbl90eXBlID09PSAndHJ1ZV9mYWxzZScpKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQWRpY2lvbmEgbyBxdWVzdGlvbl9pZCDDoHMgb3DDp8O1ZXMgZGUgcmVzcG9zdGEgZSByZW1vdmUgb3MgSURzIHRlbXBvcsOhcmlvc1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnNXaXRoUXVlc3Rpb25JZCA9IGFuc3dlck9wdGlvbnMubWFwKG9wdGlvbiA9PiB7XHJcbiAgICAgICAgICAvLyBSZW1vdmUgbyBjYW1wbyBpZCBwYXJhIHF1ZSBvIFN1cGFiYXNlIGdlcmUgdW0gbm92byBJRFxyXG4gICAgICAgICAgY29uc3QgeyBpZCwgLi4ub3B0aW9uV2l0aG91dElkIH0gPSBvcHRpb247XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC4uLm9wdGlvbldpdGhvdXRJZCxcclxuICAgICAgICAgICAgcXVlc3Rpb25faWQ6IHF1ZXN0aW9uSWQsXHJcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBJbnNlcmUgYXMgb3DDp8O1ZXMgZGUgcmVzcG9zdGFcclxuICAgICAgICBjb25zdCB7IGVycm9yOiBvcHRpb25zRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbSgnYW5zd2VyX29wdGlvbnMnKVxyXG4gICAgICAgICAgLmluc2VydChvcHRpb25zV2l0aFF1ZXN0aW9uSWQpO1xyXG5cclxuICAgICAgICBpZiAob3B0aW9uc0Vycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGluc2VyaXIgb3DDp8O1ZXMgZGUgcmVzcG9zdGE6Jywgb3B0aW9uc0Vycm9yKTtcclxuICAgICAgICAgIHRocm93IG9wdGlvbnNFcnJvcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiBxdWVzdGlvbklkO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJybyBhbyBhZGljaW9uYXIgcXVlc3TDo286JywgZXJyb3IpO1xyXG4gICAgICB0b2FzdC5lcnJvcignRXJybyBhbyBhZGljaW9uYXIgcXVlc3TDo286ICcgKyAoZXJyb3IgYXMgYW55KS5tZXNzYWdlKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBbGlhcyBwYXJhIGFkZFF1ZXN0aW9uLCBwYXJhIGNvbXBhdGliaWxpZGFkZSBjb20gYSBpbnRlcmZhY2VcclxuICAgKi9cclxuICBzdGF0aWMgYXN5bmMgY3JlYXRlUXVlc3Rpb24ocXVlc3Rpb246IFF1ZXN0aW9uLCBhbnN3ZXJPcHRpb25zPzogQW5zd2VyT3B0aW9uW10pOiBQcm9taXNlPFF1ZXN0aW9uIHwgbnVsbD4ge1xyXG4gICAgY29uc3QgcXVlc3Rpb25JZCA9IGF3YWl0IHRoaXMuYWRkUXVlc3Rpb24ocXVlc3Rpb24sIGFuc3dlck9wdGlvbnMpO1xyXG4gICAgaWYgKHF1ZXN0aW9uSWQpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5xdWVzdGlvbixcclxuICAgICAgICBpZDogcXVlc3Rpb25JZFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBdHVhbGl6YSB1bWEgcXVlc3TDo28gZXhpc3RlbnRlXHJcbiAgICovXHJcbiAgc3RhdGljIGFzeW5jIHVwZGF0ZVF1ZXN0aW9uKGlkOiBudW1iZXIsIHF1ZXN0aW9uOiBRdWVzdGlvbiwgYW5zd2VyT3B0aW9ucz86IEFuc3dlck9wdGlvbltdKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBBdHVhbGl6YSBhIHF1ZXN0w6NvXHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ3F1ZXN0aW9ucycpXHJcbiAgICAgICAgLnVwZGF0ZSh7XHJcbiAgICAgICAgICAuLi5xdWVzdGlvbixcclxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBTZSBob3V2ZXIgb3DDp8O1ZXMgZGUgcmVzcG9zdGEgZSBmb3IgdW1hIHF1ZXN0w6NvIGRlIG3Dumx0aXBsYSBlc2NvbGhhIG91IFYvRlxyXG4gICAgICBpZiAoYW5zd2VyT3B0aW9ucyAmJiBhbnN3ZXJPcHRpb25zLmxlbmd0aCA+IDAgJiYgXHJcbiAgICAgICAgICAocXVlc3Rpb24ucXVlc3Rpb25fdHlwZSA9PT0gJ211bHRpcGxlX2Nob2ljZScgfHwgcXVlc3Rpb24ucXVlc3Rpb25fdHlwZSA9PT0gJ3RydWVfZmFsc2UnKSkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFByaW1laXJvLCBleGNsdWkgYXMgb3DDp8O1ZXMgZGUgcmVzcG9zdGEgZXhpc3RlbnRlc1xyXG4gICAgICAgIGNvbnN0IHsgZXJyb3I6IGRlbGV0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgLmZyb20oJ2Fuc3dlcl9vcHRpb25zJylcclxuICAgICAgICAgIC5kZWxldGUoKVxyXG4gICAgICAgICAgLmVxKCdxdWVzdGlvbl9pZCcsIGlkKTtcclxuXHJcbiAgICAgICAgaWYgKGRlbGV0ZUVycm9yKSB7XHJcbiAgICAgICAgICB0aHJvdyBkZWxldGVFcnJvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkaWNpb25hIG8gcXVlc3Rpb25faWQgw6BzIG9ww6fDtWVzIGRlIHJlc3Bvc3RhIGUgcmVtb3ZlIG9zIElEcyB0ZW1wb3LDoXJpb3NcclxuICAgICAgICBjb25zdCBvcHRpb25zV2l0aFF1ZXN0aW9uSWQgPSBhbnN3ZXJPcHRpb25zLm1hcChvcHRpb24gPT4ge1xyXG4gICAgICAgICAgLy8gUmVtb3ZlIG8gY2FtcG8gaWQgcGFyYSBxdWUgbyBTdXBhYmFzZSBnZXJlIHVtIG5vdm8gSURcclxuICAgICAgICAgIGNvbnN0IHsgaWQ6IG9wdGlvbklkLCAuLi5vcHRpb25XaXRob3V0SWQgfSA9IG9wdGlvbjtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLi4ub3B0aW9uV2l0aG91dElkLFxyXG4gICAgICAgICAgICBxdWVzdGlvbl9pZDogaWQsXHJcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBJbnNlcmUgYXMgbm92YXMgb3DDp8O1ZXMgZGUgcmVzcG9zdGFcclxuICAgICAgICBjb25zdCB7IGVycm9yOiBvcHRpb25zRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbSgnYW5zd2VyX29wdGlvbnMnKVxyXG4gICAgICAgICAgLmluc2VydChvcHRpb25zV2l0aFF1ZXN0aW9uSWQpO1xyXG5cclxuICAgICAgICBpZiAob3B0aW9uc0Vycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGluc2VyaXIgb3DDp8O1ZXMgZGUgcmVzcG9zdGE6Jywgb3B0aW9uc0Vycm9yKTtcclxuICAgICAgICAgIHRocm93IG9wdGlvbnNFcnJvcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgRXJybyBhbyBhdHVhbGl6YXIgcXVlc3TDo28gJHtpZH06YCwgZXJyb3IpO1xyXG4gICAgICB0b2FzdC5lcnJvcignRXJybyBhbyBhdHVhbGl6YXIgcXVlc3TDo286ICcgKyAoZXJyb3IgYXMgYW55KS5tZXNzYWdlKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXhjbHVpIHVtYSBxdWVzdMOjbyBlIHN1YXMgb3DDp8O1ZXMgZGUgcmVzcG9zdGFcclxuICAgKi9cclxuICBzdGF0aWMgYXN5bmMgZGVsZXRlUXVlc3Rpb24oaWQ6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gUHJpbWVpcm8sIGV4Y2x1aSBhcyBvcMOnw7VlcyBkZSByZXNwb3N0YSBhc3NvY2lhZGFzXHJcbiAgICAgIGNvbnN0IHsgZXJyb3I6IG9wdGlvbnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnYW5zd2VyX29wdGlvbnMnKVxyXG4gICAgICAgIC5kZWxldGUoKVxyXG4gICAgICAgIC5lcSgncXVlc3Rpb25faWQnLCBpZCk7XHJcblxyXG4gICAgICBpZiAob3B0aW9uc0Vycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgb3B0aW9uc0Vycm9yO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBFbSBzZWd1aWRhLCBleGNsdWkgYSBxdWVzdMOjb1xyXG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdxdWVzdGlvbnMnKVxyXG4gICAgICAgIC5kZWxldGUoKVxyXG4gICAgICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvIGFvIGV4Y2x1aXIgcXVlc3TDo28gJHtpZH06YCwgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBCdXNjYSBxdWVzdMO1ZXMgY29tIGJhc2UgZW0gZmlsdHJvc1xyXG4gICAqL1xyXG4gIHN0YXRpYyBhc3luYyBnZXRGaWx0ZXJlZFF1ZXN0aW9ucyhmaWx0ZXJzOiB7XHJcbiAgICBkaXNjaXBsaW5lSWQ/OiBudW1iZXI7XHJcbiAgICBzdWJqZWN0SWQ/OiBudW1iZXI7XHJcbiAgICBkaWZmaWN1bHR5Pzogc3RyaW5nO1xyXG4gICAgcXVlc3Rpb25UeXBlPzogc3RyaW5nO1xyXG4gICAgc2VhcmNoVGVybT86IHN0cmluZztcclxuICB9KTogUHJvbWlzZTxRdWVzdGlvbltdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGRhdGE6IHVzZXIgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xyXG4gICAgICBcclxuICAgICAgaWYgKCF1c2VyIHx8ICF1c2VyLnVzZXIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzdcOhcmlvIG7Do28gYXV0ZW50aWNhZG8nKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgncXVlc3Rpb25zJylcclxuICAgICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLnVzZXIuaWQpO1xyXG4gICAgICBcclxuICAgICAgLy8gQXBsaWNhIG9zIGZpbHRyb3NcclxuICAgICAgaWYgKGZpbHRlcnMuZGlzY2lwbGluZUlkKSB7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnZGlzY2lwbGluZV9pZCcsIGZpbHRlcnMuZGlzY2lwbGluZUlkKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGZpbHRlcnMuc3ViamVjdElkKSB7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnc3ViamVjdF9pZCcsIGZpbHRlcnMuc3ViamVjdElkKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGZpbHRlcnMuZGlmZmljdWx0eSkge1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ2RpZmZpY3VsdHknLCBmaWx0ZXJzLmRpZmZpY3VsdHkpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZmlsdGVycy5xdWVzdGlvblR5cGUpIHtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdxdWVzdGlvbl90eXBlJywgZmlsdGVycy5xdWVzdGlvblR5cGUpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZmlsdGVycy5zZWFyY2hUZXJtKSB7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5pbGlrZSgnY29udGVudCcsIGAlJHtmaWx0ZXJzLnNlYXJjaFRlcm19JWApO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeS5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZGF0YSB8fCBbXTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gZmlsdHJhciBxdWVzdMO1ZXM6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIC8qKlxyXG4gICAqIFZlcmlmaWNhIHNlIGFzIHRhYmVsYXMgbmVjZXNzw6FyaWFzIGV4aXN0ZW0gZSBjb250w6ptIGRhZG9zXHJcbiAgICovXHJcbiAgc3RhdGljIGFzeW5jIGNoZWNrVGFibGVzRXhpc3QoKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGNvdW50LCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgncXVlc3Rpb25zJylcclxuICAgICAgICAuc2VsZWN0KCcqJywgeyBjb3VudDogJ2V4YWN0JywgaGVhZDogdHJ1ZSB9KTtcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gdmVyaWZpY2FyIHRhYmVsYXM6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIHZlcmlmaWNhciBlc3RydXR1cmEgZG8gYmFuY28gZGUgZGFkb3M6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIC8qKlxyXG4gICAqIEdlcmEgZGFkb3MgZGUgZXhlbXBsbyBwYXJhIG8gYmFuY28gZGUgcXVlc3TDtWVzXHJcbiAgICovXHJcbiAgc3RhdGljIGdldE1vY2tRdWVzdGlvbnMoKTogUXVlc3Rpb25bXSB7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6IDEsXHJcbiAgICAgICAgY29udGVudDogJ1F1YWwgw6kgbyB0cmF0YW1lbnRvIGRlIHByaW1laXJhIGxpbmhhIHBhcmEgaGlwZXJ0ZW5zw6NvIGVtIHBhY2llbnRlcyBjb20gZGlhYmV0ZXM/JyxcclxuICAgICAgICBleHBsYW5hdGlvbjogJ08gdHJhdGFtZW50byBkZSBwcmltZWlyYSBsaW5oYSBtYWlzIHJlY29tZW5kYWRvIMOpIHVtIGluaWJpZG9yIGRhIGVuemltYSBjb252ZXJzb3JhIGRlIGFuZ2lvdGVuc2luYSAoSUVDQSkgb3UgYmxvcXVlYWRvciBkbyByZWNlcHRvciBkYSBhbmdpb3RlbnNpbmEgKEJSQSkgZGV2aWRvIMOgIHByb3Rlw6fDo28gcmVuYWwgYWRpY2lvbmFsLicsXHJcbiAgICAgICAgZGlzY2lwbGluZV9pZDogMSxcclxuICAgICAgICBzdWJqZWN0X2lkOiAzLFxyXG4gICAgICAgIGRpZmZpY3VsdHk6ICdtw6lkaWEnLFxyXG4gICAgICAgIHF1ZXN0aW9uX3R5cGU6ICdtdWx0aXBsZV9jaG9pY2UnLFxyXG4gICAgICAgIHRhZ3M6IFsnaGlwZXJ0ZW5zw6NvJywgJ2RpYWJldGVzJywgJ3RyYXRhbWVudG8nXSxcclxuICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNS0wMS0xNVQxMDozMDowMFonLFxyXG4gICAgICAgIGFuc3dlcl9vcHRpb25zOiBbXHJcbiAgICAgICAgICB7IGlkOiAxLCBxdWVzdGlvbl9pZDogMSwgdGV4dDogJ0lFQ0Egb3UgQlJBJywgaXNfY29ycmVjdDogdHJ1ZSB9LFxyXG4gICAgICAgICAgeyBpZDogMiwgcXVlc3Rpb25faWQ6IDEsIHRleHQ6ICdCZXRhLWJsb3F1ZWFkb3JlcycsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXHJcbiAgICAgICAgICB7IGlkOiAzLCBxdWVzdGlvbl9pZDogMSwgdGV4dDogJ0Jsb3F1ZWFkb3JlcyBkZSBjYW5haXMgZGUgY8OhbGNpbycsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXHJcbiAgICAgICAgICB7IGlkOiA0LCBxdWVzdGlvbl9pZDogMSwgdGV4dDogJ0RpdXLDqXRpY29zIHRpYXrDrWRpY29zJywgaXNfY29ycmVjdDogZmFsc2UgfVxyXG4gICAgICAgIF1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAyLFxyXG4gICAgICAgIGNvbnRlbnQ6ICdQYWNpZW50ZXMgY29tIGZpYnJpbGHDp8OjbyBhdHJpYWwgZGV2ZW0gc2VtcHJlIHJlY2ViZXIgYW50aWNvYWd1bGHDp8Ojby4nLFxyXG4gICAgICAgIGV4cGxhbmF0aW9uOiAnRmFsc28uIEEgZGVjaXPDo28gc29icmUgYW50aWNvYWd1bGHDp8OjbyBlbSBwYWNpZW50ZXMgY29tIGZpYnJpbGHDp8OjbyBhdHJpYWwgZGV2ZSBzZXIgYmFzZWFkYSBuYSBhdmFsaWHDp8OjbyBkZSByaXNjbyBkZSBBVkMgKGV4LjogZXNjb3JlIENIQTJEUzItVkFTYykgZSBubyByaXNjbyBkZSBzYW5ncmFtZW50byAoZXguOiBlc2NvcmUgSEFTLUJMRUQpLicsXHJcbiAgICAgICAgZGlzY2lwbGluZV9pZDogMSxcclxuICAgICAgICBzdWJqZWN0X2lkOiA0LFxyXG4gICAgICAgIGRpZmZpY3VsdHk6ICdiYWl4YScsXHJcbiAgICAgICAgcXVlc3Rpb25fdHlwZTogJ3RydWVfZmFsc2UnLFxyXG4gICAgICAgIGNvcnJlY3RfYW5zd2VyOiAnZmFsc2UnLFxyXG4gICAgICAgIHRhZ3M6IFsnZmlicmlsYcOnw6NvIGF0cmlhbCcsICdhbnRpY29hZ3VsYcOnw6NvJywgJ2NhcmRpb2xvZ2lhJ10sXHJcbiAgICAgICAgY3JlYXRlZF9hdDogJzIwMjUtMDEtMjBUMTQ6NDU6MDBaJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6IDMsXHJcbiAgICAgICAgY29udGVudDogJ0Rlc2NyZXZhIG9zIG1lY2FuaXNtb3MgZmlzaW9wYXRvbMOzZ2ljb3MgZGEgaW5zdWZpY2nDqm5jaWEgY2FyZMOtYWNhIGNvbSBmcmHDp8OjbyBkZSBlamXDp8OjbyBwcmVzZXJ2YWRhIChJQ0ZFcCkuJyxcclxuICAgICAgICBleHBsYW5hdGlvbjogJ0EgSUNGRXAgw6kgY2FyYWN0ZXJpemFkYSBwb3IgZGlzZnVuw6fDo28gZGlhc3TDs2xpY2EsIHJpZ2lkZXogdmVudHJpY3VsYXIsIGZpYnJvc2UgbWlvY8OhcmRpY2EsIGRpbWludWnDp8OjbyBkYSBjb21wbGFjw6puY2lhIHZlbnRyaWN1bGFyLCBkaXNmdW7Dp8OjbyBtaWNyb3Zhc2N1bGFyIGUgaW5mbGFtYcOnw6NvLiBBIGRpc2Z1bsOnw6NvIGRpYXN0w7NsaWNhIHJlc3VsdGEgZW0gcHJlc3PDtWVzIGRlIGVuY2hpbWVudG8gZWxldmFkYXMsIGNhdXNhbmRvIHNpbnRvbWFzIGRlIGNvbmdlc3TDo28gcHVsbW9uYXIgZSBlZGVtYS4nLFxyXG4gICAgICAgIGRpc2NpcGxpbmVfaWQ6IDEsXHJcbiAgICAgICAgc3ViamVjdF9pZDogNSxcclxuICAgICAgICBkaWZmaWN1bHR5OiAnYWx0YScsXHJcbiAgICAgICAgcXVlc3Rpb25fdHlwZTogJ2Vzc2F5JyxcclxuICAgICAgICB0YWdzOiBbJ2luc3VmaWNpw6puY2lhIGNhcmTDrWFjYScsICdmaXNpb3BhdG9sb2dpYScsICdmcmHDp8OjbyBkZSBlamXDp8OjbyBwcmVzZXJ2YWRhJ10sXHJcbiAgICAgICAgY3JlYXRlZF9hdDogJzIwMjUtMDEtMjVUMDk6MTU6MDBaJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6IDQsXHJcbiAgICAgICAgY29udGVudDogJ1F1YWwgZG9zIHNlZ3VpbnRlcyBuw6NvIMOpIGNvbnNpZGVyYWRvIHVtIHNpbmFsIGNsw6Fzc2ljbyBkZSBQYXJraW5zb25pc21vPycsXHJcbiAgICAgICAgZXhwbGFuYXRpb246ICdPcyBzaW5haXMgY2zDoXNzaWNvcyBkbyBQYXJraW5zb25pc21vIGluY2x1ZW0gdHJlbW9yIGRlIHJlcG91c28sIHJpZ2lkZXosIGJyYWRpY2luZXNpYSBlIGluc3RhYmlsaWRhZGUgcG9zdHVyYWwuIEEgY29yZWlhIChtb3ZpbWVudG9zIGludm9sdW50w6FyaW9zLCByw6FwaWRvcyBlIGlycmVndWxhcmVzKSDDqSBjYXJhY3RlcsOtc3RpY2FtZW50ZSBhc3NvY2lhZGEgw6AgZG9lbsOnYSBkZSBIdW50aW5ndG9uLCBuw6NvIGFvIFBhcmtpbnNvbmlzbW8uJyxcclxuICAgICAgICBkaXNjaXBsaW5lX2lkOiAyLFxyXG4gICAgICAgIHN1YmplY3RfaWQ6IDgsXHJcbiAgICAgICAgZGlmZmljdWx0eTogJ23DqWRpYScsXHJcbiAgICAgICAgcXVlc3Rpb25fdHlwZTogJ211bHRpcGxlX2Nob2ljZScsXHJcbiAgICAgICAgdGFnczogWyduZXVyb2xvZ2lhJywgJ3BhcmtpbnNvbicsICdkaWFnbsOzc3RpY28nXSxcclxuICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNS0wMi0wNVQxMToyMDowMFonLFxyXG4gICAgICAgIGFuc3dlcl9vcHRpb25zOiBbXHJcbiAgICAgICAgICB7IGlkOiA1LCBxdWVzdGlvbl9pZDogNCwgdGV4dDogJ1RyZW1vciBkZSByZXBvdXNvJywgaXNfY29ycmVjdDogZmFsc2UgfSxcclxuICAgICAgICAgIHsgaWQ6IDYsIHF1ZXN0aW9uX2lkOiA0LCB0ZXh0OiAnUmlnaWRleicsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXHJcbiAgICAgICAgICB7IGlkOiA3LCBxdWVzdGlvbl9pZDogNCwgdGV4dDogJ0NvcmVpYScsIGlzX2NvcnJlY3Q6IHRydWUgfSxcclxuICAgICAgICAgIHsgaWQ6IDgsIHF1ZXN0aW9uX2lkOiA0LCB0ZXh0OiAnQnJhZGljaW5lc2lhJywgaXNfY29ycmVjdDogZmFsc2UgfVxyXG4gICAgICAgIF1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiA1LFxyXG4gICAgICAgIGNvbnRlbnQ6ICdBIGNldG9hY2lkb3NlIGRpYWLDqXRpY2Egw6kgdW1hIGVtZXJnw6puY2lhIG3DqWRpY2EgcXVlIG9jb3JyZSBwcmVkb21pbmFudGVtZW50ZSBlbSBwYWNpZW50ZXMgY29tIGRpYWJldGVzIHRpcG8gMi4nLFxyXG4gICAgICAgIGV4cGxhbmF0aW9uOiAnRmFsc28uIEEgY2V0b2FjaWRvc2UgZGlhYsOpdGljYSBvY29ycmUgcHJlZG9taW5hbnRlbWVudGUgZW0gcGFjaWVudGVzIGNvbSBkaWFiZXRlcyB0aXBvIDEsIGVtYm9yYSBwb3NzYSBvY29ycmVyIGVtIGRpYWJldGVzIHRpcG8gMiBlbSBzaXR1YcOnw7VlcyBkZSBlc3RyZXNzZSBleHRyZW1vIChjb21vIGluZmVjw6fDtWVzIGdyYXZlcywgdHJhdW1hIG91IGNpcnVyZ2lhKS4nLFxyXG4gICAgICAgIGRpc2NpcGxpbmVfaWQ6IDMsXHJcbiAgICAgICAgc3ViamVjdF9pZDogMTIsXHJcbiAgICAgICAgZGlmZmljdWx0eTogJ2JhaXhhJyxcclxuICAgICAgICBxdWVzdGlvbl90eXBlOiAndHJ1ZV9mYWxzZScsXHJcbiAgICAgICAgY29ycmVjdF9hbnN3ZXI6ICdmYWxzZScsXHJcbiAgICAgICAgdGFnczogWydkaWFiZXRlcycsICdlbWVyZ8OqbmNpYScsICdjZXRvYWNpZG9zZSddLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI1LTAyLTEwVDE2OjA1OjAwWidcclxuICAgICAgfVxyXG4gICAgXTtcclxuICB9XHJcbn0gIl0sIm5hbWVzIjpbInN1cGFiYXNlIiwidG9hc3QiLCJRdWVzdGlvbnNCYW5rU2VydmljZSIsImdldFVzZXJRdWVzdGlvbnMiLCJkYXRhIiwidXNlciIsImF1dGgiLCJnZXRVc2VyIiwiRXJyb3IiLCJlcnJvciIsImZyb20iLCJzZWxlY3QiLCJlcSIsImlkIiwib3JkZXIiLCJhc2NlbmRpbmciLCJjb25zb2xlIiwiZ2V0UXVlc3Rpb25CeUlkIiwic2luZ2xlIiwicXVlc3Rpb25fdHlwZSIsIm9wdGlvbnMiLCJnZXRBbnN3ZXJPcHRpb25zIiwiYW5zd2VyX29wdGlvbnMiLCJxdWVzdGlvbklkIiwiYWRkUXVlc3Rpb24iLCJxdWVzdGlvbiIsImFuc3dlck9wdGlvbnMiLCJuZXdRdWVzdGlvbiIsInVzZXJfaWQiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidXBkYXRlZF9hdCIsImluc2VydCIsImxlbmd0aCIsIm9wdGlvbnNXaXRoUXVlc3Rpb25JZCIsIm1hcCIsIm9wdGlvbiIsIm9wdGlvbldpdGhvdXRJZCIsInF1ZXN0aW9uX2lkIiwib3B0aW9uc0Vycm9yIiwibWVzc2FnZSIsImNyZWF0ZVF1ZXN0aW9uIiwidXBkYXRlUXVlc3Rpb24iLCJ1cGRhdGUiLCJkZWxldGVFcnJvciIsImRlbGV0ZSIsIm9wdGlvbklkIiwiZGVsZXRlUXVlc3Rpb24iLCJnZXRGaWx0ZXJlZFF1ZXN0aW9ucyIsImZpbHRlcnMiLCJxdWVyeSIsImRpc2NpcGxpbmVJZCIsInN1YmplY3RJZCIsImRpZmZpY3VsdHkiLCJxdWVzdGlvblR5cGUiLCJzZWFyY2hUZXJtIiwiaWxpa2UiLCJjaGVja1RhYmxlc0V4aXN0IiwiY291bnQiLCJoZWFkIiwiZ2V0TW9ja1F1ZXN0aW9ucyIsImNvbnRlbnQiLCJleHBsYW5hdGlvbiIsImRpc2NpcGxpbmVfaWQiLCJzdWJqZWN0X2lkIiwidGFncyIsInRleHQiLCJpc19jb3JyZWN0IiwiY29ycmVjdF9hbnN3ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/services/questions-bank.service.ts\n"));

/***/ })

});